{% extends "base.html" %}

{% block title %}PyTutor Home{% endblock %}

{% block body %}

<section id="respond" class="{{ ex|yesno:"passed_test,failed_test" }}">
	<h1>Question {{question.id}}</h1>
	<p>{{question.prompt}}</p>
	<!--<p>Attempt #{{previous_attempt}}</p> Can't get this to properly display somehow-->
    <p>{{user.username}} submitted:</p>
    <code>{{response.code}}</code>

    <h3>Test Results
    <a href="/tutor" class="btn btn-primary" title="get a new question">Next Question</a>
    <a href="/tutor/{{question.id}}" class="btn btn-danger" title="try the question again">Try Again</a>

    </h3>

    <table class="table">
        <tr>
            <th>Pass/Fail</th><th>Test</th><th>Error</th>
        </tr>
        {% for test, success in testResults %}
            {% if success == True %}
                <tr class="passed {% cycle 'odd' 'even' %}">
                    <td>Pass</td>
                    <td>{{test.to_code}}</td>
                    <td>-</td>
                </tr>
            {% else %}
                <tr class="failed {% cycle ' odd' ' even' %}">
                    <td>Fail</td>
                    <td>{{test.to_code}}</td>
                    <td>{{test.fail_msg}}</td>
                </tr>
            {% endif %}
        {% endfor %}
    </table>
</section>

{% endblock %}