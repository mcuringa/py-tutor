{% extends "base.html" %}

{% block title %}PyTutor Home{% endblock %}

{% block body %}

{% load markdown_deux_tags %}

{% if not questions %}

<section>
    <h1>No questions to study.</h1>
</section>

{% else %}

<section id="respond">
    {% if tag %}
        <div class="row">
            <div class="col-xs-3 pull-right">
                <div class="panel panel-warning">
                  <div class="panel-heading">Study Tag: {{tag}}</div>
                </div>
            </div>
        </div>
    {% endif %}

	<div class="panel panel-primary">
        <div class="panel-heading">Question {{question.id}}: {{question.function_name}}</div>
        <div class="panel-body"><div class="well">{{question.prompt|markdown}}</div></div>
        <div class="panel-footer">Attempt #{{ attempt }}</div>
    </div>
    
    <form action="/tutor/response/submit" method="post" id="response-form">
        {% csrf_token %}
        <input type="hidden" name="qpk" value="{{question.id}}">
        <input type="hidden" id="user_code" name="user_code">
        {% if tag %}
        <input type="hidden" id="study_tag" value="{{tag}}" name="study_tag">
        {% endif %}
       
        <div class="fieldWrapper">
            {{ response_form.code.errors }}
            {{ response_form.code.label_tag }} 
            <div id="response-editor" data-code-field="user_code"># write a function called {{question.function_name}}


</div>
        </div>
        <button id="submit-user-code" class="btn btn-primary">Run tests!</button>
    </form>
</section>

{% endif %}

{% endblock %}



